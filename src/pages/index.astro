---
import AudioPlayer from '@/components/AudioPlayer.astro'
import BlogGridCard from '@/components/BlogGridCard.astro'
import PageHead from '@/components/PageHead.astro'
import Layout from '@/layouts/Layout.astro'
import { getAllPosts } from '@/lib/data-utils'

const allPosts = await getAllPosts()
const recentPosts = allPosts.slice(0, 12)
---

<Layout>
  <PageHead
    slot="head"
    title="meow"
    description="give me a github star! right now!"
  />

  <div class="mx-auto w-full max-w-[970px]">
    <!-- Blog Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-2">
      {
        recentPosts.map((post) => (
          <BlogGridCard entry={post} />
        ))
      }
    </div>
  </div>

  <AudioPlayer />
</Layout>
